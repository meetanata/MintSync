<!DOCTYPE HTML>
<html>
  <head>
	<meta http-equiv='Content-Type' content='text/html; charset=iso-8859-1' lang='en-gb' />
  	<title>MintSync</title>
	<link rel="stylesheet" href="css/common.css" type="text/css" />
	<link rel="stylesheet" href="css/popup.css" type="text/css" />
	<script type="text/javascript" src='js/jquery.js'></script>
	<script type="text/javascript" src='js/jquery.tools.min.1.2.5.js'></script>
	
	<script type="text/javascript" src="js/sha.js"></script>
	<script type="text/javascript" src="js/AES.js"></script>
	
	<script type="text/javascript" src="js/php_js/utf8_decode.js"></script>
	<script type="text/javascript" src="js/php_js/utf8_encode.js"></script>
	<script type="text/javascript" src="js/php_js/base64_decode.js"></script>
	<script type="text/javascript" src="js/php_js/base64_encode.js"></script>
	
	<script type="text/javascript" src="js/MintCryptoWrapper.js"></script>
	<script type="text/javascript" src="js/MintSync.js"></script>
	<script type="text/javascript" src="js/globalfunctions.js"></script>
	<script type="text/javascript" src="js/json2.js"></script>

	<script type="text/javascript" src='js/lightboxes.js'></script>
	<script type="text/javascript" src='js/popup.js'></script>
  </head>
  <body>
	<div id='popupContainer'>
	
		<ul id='tabBar'>
			<li>Retrieve</li>
			<li>Save/Generate</li>
		</ul>
		
		<div id='tabContent'>
			<fieldset id='retrieve'>
				<div id='loadingDiv' class='hidden'>
					<span>Fetching...</span>
					<span><img src='img/ajax_load.gif' alt='Loading...' /></span>
				</div>
				<div id='fetchDiv'>
					<div id='retrieveOutput' class='hidden' >
						<table class='results'>
							<thead>
								<tr>
									<th>Key</th>
									<th>Value</th>
								</tr>
							</thead>
							<tfoot>
								<tr>
								</tr>
							</tfoot>
							<tbody>
							</tbody>
						</table>
					</div>	
					<p>
						Click retrieve to fetch and decrypt the stored information
					</p>
					<form action='javascript:void(0);' onsubmit='getPasswords($("#domainInput").val()); return false;'>
						<p><input type='hidden' name='domain' id='domainInput' /><input type='submit' value='Retrieve'/></p>
					</form>
				</div>
				<div id='fetchErrorDiv'>
				</div>
			</fieldset>
			
			<fieldset id='save' class='hidden'>
				<form action='#' onsubmit='setPassword(this); return false;'>
					<p><label>URL/Domain:</label> <input type='text' name='domainName' id='domainName' /></p>
					<p><label>Credentials:</label> <span class='mini-instructions'>Right Click (or ctrl+G) to Generate</span></p>
					<div id='inputPassContainer'>
					</div>
					<p> <img src='img/add.png' alt='Add Pair' onclick='addPair(); return false' class='jsAction' /></p>
					<!-- the template used for the new rows: -->
					<div id='rowTemplate' class='hidden' >
						<p> 
							<input type='text' name='inputPassName' class='inputLabel'  /> 
							<input type='password' name='inputPassValue' class='inputPass' onfocus='revealPassword(this);' onblur='rehidePassword(this);' />
							<img src='img/del.png' alt='Delete Pair' onclick='delPair(this); return false' class='jsAction saveBin' />
						</p>
					</div>
					<p><input type='submit'/><input type='checkbox' name='force' id='canForceWrite' /><label for='canForceWrite'><span class='mini-instructions'>Allow Overwrite</span></label></p>
				</form>
				<div id='saveOutput'></div>
			</fieldset>
		</ul>
	</div>
  </body>
</html>